for(var i=0;i<document.querySelectorAll("a img").length;i++){if(document.querySelectorAll("a img")[i].parentNode.tagName=="A"){document.querySelectorAll("a img")[i].parentNode.style.border="0"}}for(var i=0;i<document.querySelectorAll("img").length;i++){document.querySelectorAll("img")[i].removeAttribute("height");document.querySelectorAll("img")[i].removeAttribute("width")}var comment_respond_form=document.querySelector("#respond");if(comment_respond_form!==null){var attribute=document.createAttribute("tabindex");attribute.value="4";comment_respond_form.querySelector("#submit").setAttributeNode(attribute)}for(var i=0;i<document.querySelectorAll(".reporttable").length;i++){var table_id=document.querySelectorAll(".reporttable")[i].id;for(var tri=0;tri<document.querySelectorAll("#"+table_id+" tr").length;tri++){var element=document.querySelectorAll("#"+table_id+" tr")[tri];if(tri%2==0&&tri!=0){element.style.display="none"}else{var element_classes=element.className;element.className=element.className+" odd";element.onclick=function(){var sibling=this.nextSibling;while(sibling&&sibling.nodeName!="TR"){sibling=sibling.nextSibling}if(sibling.style.display=="none"){sibling.style.display="table-row"}else{sibling.style.display="none"}var arrow=this.querySelector(".arrow");var arrow_classes=arrow.className;if(arrow_classes.indexOf("up")==-1){arrow.className=arrow_classes+" up"}else{arrow.className=arrow_classes.replace("up","")}}}}}var addComment={moveForm:function(a,b,c,d){var e,f=this,g=f.I(a),h=f.I(c),i=f.I("cancel-comment-reply-link"),j=f.I("comment_parent"),k=f.I("comment_post_ID");if(g&&h&&i&&j){f.respondId=c,d=d||!1,f.I("wp-temp-form-div")||(e=document.createElement("div"),e.id="wp-temp-form-div",e.style.display="none",h.parentNode.insertBefore(e,h)),g.parentNode.insertBefore(h,g.nextSibling),k&&d&&(k.value=d),j.value=b,i.style.display="",i.onclick=function(){var a=addComment,b=a.I("wp-temp-form-div"),c=a.I(a.respondId);if(b&&c){return a.I("comment_parent").value="0",b.parentNode.insertBefore(c,b),b.parentNode.removeChild(b),this.style.display="none",this.onclick=null,!1}};try{f.I("comment").focus()}catch(l){}return !1}},I:function(a){return document.getElementById(a)}};(function(a){function m(){d.setAttribute("content",g),h=!0}function n(){d.setAttribute("content",f),h=!1}function o(b){l=b.accelerationIncludingGravity,i=Math.abs(l.x),j=Math.abs(l.y),k=Math.abs(l.z),(!a.orientation||a.orientation===180)&&(i>7||(k>6&&j<8||k<8&&j>6)&&i>5)?h&&n():h||m()}var b=navigator.userAgent;if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&/OS [1-5]_[0-9_]* like Mac OS X/i.test(b)&&b.indexOf("AppleWebKit")>-1)){return}var c=a.document;if(!c.querySelector){return}var d=c.querySelector("meta[name=viewport]"),e=d&&d.getAttribute("content"),f=e+",maximum-scale=1",g=e+",maximum-scale=10",h=!0,i,j,k,l;if(!d){return}a.addEventListener("orientationchange",m,!1),a.addEventListener("devicemotion",o,!1)})(this);if(navigator.userAgent.match(/IEMobile\/10\.0/)){var msViewportStyle=document.createElement("style");msViewportStyle.appendChild(document.createTextNode("@-ms-viewport{width:auto!important}"));document.getElementsByTagName("head")[0].appendChild(msViewportStyle)}var iec_config={ajax_url:"http://www.smashingmagazine.com/wp-admin/admin-ajax.php?_wpnonce=82b4cc5680",slug:"inpsyde_extended_comments",l10n:{rate_this_comment:"Rate this comment",rate_up:"Vote up!",rate_down:"Vote down!"},selectors:{preview:"inpsyde_extended_comments_preview",rating:"inpsyde_extended_comments_rating",rate_wrapper:"inpsyde_extended_comments_rate_wrapper",rate:"inpsyde_extended_comments_rate",rate_stars:"inpsyde_extended_comments_rate_stars",write:"inpsyde_extended_comments_write",preview_container:"inpsyde_extended_comments_preview_container",preview_button:"inpsyde_extended_comments_preview_button",preview_wrapper:"inpsyde_extended_comments_preview_wrapper",edit:"inpsyde_extended_comments_edit"}};var Inpsyde=Inpsyde||{};(function(Inpsyde){var config={};function ExtendedComments(iec_config){config=iec_config;rate.apply(this)}var rate=function(){var selectors=config.selectors,template=[],star_containers=document.getElementsByClassName(selectors.rate_stars),rate_btns;template.push('<a class="rate_btn rate_btn_up" href="#" data-id="1" title="'+config.l10n["rate_up"]+'"></a>');template.push('<a class="rate_btn rate_btn_down" href="#" data-id="-1" title="'+config.l10n["rate_down"]+'"></a>');[].forEach.call(star_containers,function(container){container.innerHTML=template.join("\n")});rate_btns=document.getElementsByClassName("rate_btn");if(window.addEventListener){[].forEach.call(rate_btns,function(rate_btn){rate_btn.addEventListener("click",function(e){click_event(e)})})}else{[].forEach.call(rate_btns,function(rate_btn){rate_btn.attachEvent("click",function(e){click_event(e)})})}var click_event=function(e){e.preventDefault();var _self=e.target?e.target:e.srcElement,_parent=_self.parentNode,the_comment_id=_parent.getAttribute("data-comment_id"),the_action=_parent.getAttribute("data-action"),the_value=_self.getAttribute("data-id"),karma_container=document.getElementById(the_action+"_"+the_comment_id),request=window.XMLHttpRequest?new XMLHttpRequest():new ActiveXObject("Microsoft.XMLHTTP"),data,the_url;if(!the_comment_id||!the_action||!the_value){return}the_url=config.ajax_url+"&action="+the_action;request.open("POST",the_url,true);request.setRequestHeader("Content-Type","application/x-www-form-urlencoded");request.onreadystatechange=function(){if(request.readyState!=4||request.status!=200){return}var response=JSON.parse(request.responseText);_parent.innerHTML='<p class="'+config.slug+'_alert">'+response.message+"</p>";if(!response.karma){return}karma_container.innerHTML=response.karma;var classes=karma_container.className;if(response.karma>0){classes.replace(" negative"," positive")}else{if(response.karma<0){classes.replace(" positive"," negative")}else{classes.replace(" positive"," negative")}}karma_container.className=classes};data="";data+="action="+the_action;data+="&rating_value="+the_value;data+="&comment_id="+the_comment_id;request.send(data)}};Inpsyde.ExtendedComments=ExtendedComments;new Inpsyde.ExtendedComments(iec_config)})(Inpsyde||{});